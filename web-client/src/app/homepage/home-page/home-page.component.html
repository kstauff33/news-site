<div class="container">
  <h1>SNEWS</h1>
  <app-redline></app-redline>
  <app-post-carousel
    *ngIf="posts && posts.length; else cpreload"
    [posts]="posts.slice(0, 5)"
  ></app-post-carousel>
  <ng-template #cpreload>
    <div class="carousel-preload placeholder"></div>
  </ng-template>
  <app-redline></app-redline>
  <!-- <div class="grid" *ngIf="posts && posts.length; else ppreload"> -->
  <div
    class="grid"
    *ngIf="posts && posts.length; else ppreload"
    infiniteScroll
    [infiniteScrollContainer]="scrollContainer"
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    (scrolled)="onScroll()"
  >
    <app-big-post *ngFor="let post of posts" [post]="post"></app-big-post>
  </div>
  <ng-template #ppreload>
    <div class="grid preload">
      <app-big-post *ngFor="let x of [0, 1, 2, 3, 4, 5]"></app-big-post>
    </div>
  </ng-template>
  <button role="button" class="button" mat-button (click)="showMore()">
    <span class="more">More</span>
  </button>
</div>
